<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FitUp Tracker</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js per il grafico del dettaglio -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="welcome-card">
      <div>
        <h2 id="welcome-text">Benvenuto!</h2>
      </div>
      <img src="img/logo.png" alt="FitUp Logo" class="logo" />
    </div>
  </header>

  <!-- MENU UTENTE MOBILE -->
  <div id="user-menu" class="user-menu-slide">
    <div class="user-menu-content">
      <button class="closebtn" onclick="closeUserMenu()">Ã—</button>
      <button onclick="changeUsername()">Modifica Nome Utente</button>
      <button onclick="deleteProfile()">Elimina Allenamenti</button>
      <button onclick="clearAllData()">Elimina Profilo</button>
      <button onclick="exportData()">Esporta Salvataggi</button>
      <button onclick="importData()">Importa Salvataggi</button>
    </div>
  </div>

  <!-- HOME -->
  <section id="home">
    <div class="card" onclick="openWorkout('chest')">
      <img src="img/chest.jpg" alt="Chest" />
      <h3>CHEST</h3>
    </div>
    <div class="card" onclick="openWorkout('back')">
      <img src="img/back.jpg" alt="Back" />
      <h3>BACK</h3>
    </div>
    <div class="card" onclick="openWorkout('leg')">
      <img src="img/leg.jpg" alt="Leg" />
      <h3>LEG</h3>
    </div>
    <div class="card" onclick="openWorkout('shoulders')">
      <img src="img/shoulder.jpg" alt="Shoulders" />
      <h3>SHOULDERS</h3>
    </div>
  </section>

  <!-- GRAFICO SETTIMANALE -->
  <section id="week-graph">
    <h3>ðŸ“Š Allenamenti della settimana</h3>
    <div class="week-bar">
      <div class="day" id="day-1">L</div>
      <div class="day" id="day-2">M</div>
      <div class="day" id="day-3">M</div>
      <div class="day" id="day-4">G</div>
      <div class="day" id="day-5">V</div>
      <div class="day" id="day-6">S</div>
      <div class="day" id="day-7">D</div>
    </div>
  </section>

  <!-- SCHERMATA ALLENAMENTO -->
  <section id="workout-screen" style="display:none;">
    <button onclick="goHome()">â¬… Torna indietro</button>
    <h3 id="workout-title"></h3>

    <!-- RICERCA ESERCIZI -->
    <div id="exercise-search" class="search-box">
      <input type="text" id="searchInput" placeholder="Cerca esercizio..." />
      <button onclick="searchExercise()">Cerca</button>
    </div>

    <!-- RISULTATI RICERCA -->
    <div id="searchResults" class="exercise-results-container"></div>

    <!-- ESERCIZI SALVATI CON PREVIEW ULTIMO RECORD -->
       <h3>I tuoi esercizi salvati</h3>
    <div id="savedExercises" class="exercise-saved-container"></div>
  </section>

  <!-- SCHERMATA DETTAGLIO ESERCIZIO -->
  <section id="exercise-detail" style="display:none;">
    <button onclick="goBackHome()">â¬… Torna indietro</button>

    <div class="detail-header">
     
      <div>
        <h2 id="detail-title"></h2>
        <div id="detail-subtitle" class="detail-subtitle"></div>
      </div>
    </div>

    <!-- GRAFICO ANDAMENTO PESI -->
    <div class="detail-chart-wrap">
      <canvas id="weightChart"></canvas>
    </div>

    <!-- LISTA RECORD COMPLETI -->
    <h3>Storico record</h3>
    <ul id="detail-logs" class="log-list"></ul>

    <!-- FORM NUOVO RECORD -->
    <h3>Aggiungi nuovo record</h3>
    <form id="detail-form">
      <input type="number" name="sets" placeholder="Serie" required />
      <input type="number" name="reps" placeholder="Ripetizioni" required />
      <input type="number" name="weight" placeholder="Peso (kg)" step="0.5" required />
      <select name="method">
        <option value="Buffer 0">Buffer 0</option>
        <option value="Buffer 1">Buffer 1</option>
        <option value="Cedimento">Cedimento</option>
        <option value="Dropset">Dropset</option>
      </select>
      <button type="submit">+ Aggiungi</button>
    </form>

    <button id="detail-delete-btn" class="danger" onclick="deleteCurrentExercise()">ðŸ—‘ Elimina esercizio</button>
  </section>

  <!-- TEMPLATE RISULTATO RICERCA -->
  <template id="search-result-template">
    <div class="exercise-result">
      <img class="result-gif" src="" alt="" />
      <div class="result-info">
        <p class="result-name"></p>
        <button class="result-add-btn">+ Salva</button>
      </div>
    </div>
  </template>

  <!-- TEMPLATE RIGA SALVATO -->
  <template id="saved-exercise-row-template">
    <div class="saved-exercise-row">
      <img class="saved-ex-gif" src="" alt="" />
      <div class="saved-ex-info">
        <div class="saved-ex-name"></div>
        <div class="saved-ex-last"></div>
      </div>
      <span class="saved-ex-chevron">â€º</span>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
